import React, { useEffect, useState } from "react";
import styled from "styled-components";
import axios from "axios";
import { Buffer } from "buffer";
import loader from "../assets/loader.gif";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import { useNavigate } from "react-router-dom";
import { setAvatarRoute } from "../utils/APIRoutes";
export default function SetAvatar() {
  const api = `https://api.multiavatar.com/4645646`;
  const navigate = useNavigate();
  const [avatars, setAvatars] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [selectedAvatar, setSelectedAvatar] = useState(undefined);
  const toastOptions = {
    position: "bottom-right",
    autoClose: 8000,
    pauseOnHover: true,
    draggable: true,
    theme: "dark",
  };

  useEffect(async () => {
    if (!localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY))
      navigate("/login");
  }, []);

  const setProfilePicture = async () => {
    if (selectedAvatar === undefined) {
      toast.error("Please select an avatar", toastOptions);
    } else {
      const user = await JSON.parse(
        localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)
      );
debugger
      const { data } = await axios.post(`${setAvatarRoute}/${user._id}`, {
        image: avatars[selectedAvatar],
      });

      if (data.isSet) {
        user.isAvatarImageSet = true;
        user.avatarImage = data.image;
        localStorage.setItem(
          process.env.REACT_APP_LOCALHOST_KEY,
          JSON.stringify(user)
        );
        navigate("/");
      } else {
        toast.error("Error setting avatar. Please try again.", toastOptions);
      }
    }
  };

  useEffect(async () => {
    // const data = [];
    // for (let i = 0; i < 4; i++) {
    //   const image = await axios.get(
    //     `${api}/${Math.round(Math.random() * 1000)}`
    //   );
    //   const buffer = new Buffer(image.data);
    //   data.push(buffer.toString("base64"));
    // }

    var data ="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiNGRkMxMDc7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojYjM1ZjQ5OyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWwxMy44NSAxMy44NXYtMS4yaDE3Ljg2djMuMWg1eiIgc3R5bGU9ImZpbGw6IzAzM2M1ODsiLz48cG9seWdvbiBwb2ludHM9IjExNS4zNiAyMDcuNjUgMTIzLjM3IDIyNC4yIDE0OC4zIDE5Ni44NiAxNDMuMDggMTg5Ljk1IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwb2x5Z29uIHBvaW50cz0iMTE1LjM2IDIwNy42NSAxMDcuMzUgMjI0LjIgODIuNDIgMTk2Ljg2IDg3LjYzIDE4OS45NSIgc3R5bGU9ImZpbGw6I2ZmZjsiLz48cGF0aCBkPSJtNDEuODM1IDc1LjEzMWMtMi44Njc0IDEyLjU4MiAxLjIzMDQgMjcuMjQxIDYuMDIzOCAzOS4wMzEgMC4yNTg2MSAwLjYzNjU4IDAuNTEyMDggMS4zMDc1IDAuNzk5ODkgMS45NjgzIDAuNzE3MjYgMS42NTggMi4xMTg0IDMuOTc1MSAzLjAwMzggMy45MjY2IDAuNTY4OTUtMC4wMzEyIDAuNzE2MzctMS41NTEyIDEuMDIyOC0zLjE1NjIgMi4xOTg4LTE5LjA5NyA4Ljg5ODEtMjcuOTE1IDE1LjYzNi0zOC4xMDcgMi44NzgzLTQuMDY0NSAzLjg2MTYtNy4yMjkzIDEuMDY0NC05LjkzMjUtNi4zMjM2LTMuNTU5Ni0xNC45MjQtMi44NTc0LTIxLjM2Ny0wLjY3NDA2LTMuMjMxMiAxLjQ3NjUtNS4yNDI3IDMuNDc3My02LjE4NDIgNi45NDM5em0xMjUuNjUtOC41Njc5YzcuNjUtMC43MDYxNiAxOS43MTQtMC4xMzA3IDIxLjY5NCA4LjU2NzkgMS40NTUgNi40MDgzIDAuMjY5MTUgMTcuNzQ3LTEuMDU0MiAyNC41NzktMS4xOTYxIDUuMzIwMy0zLjgwNjYgMTQuMjMxLTcuODc4MiAxOS43NS0wLjU1NjUgMC40NDU0NC0wLjk2ODg4IDAuMTM2NTYtMS40MTU5LTEuMTYwNi0wLjkwNjkyLTMuMDM1My0xLjQyOTgtNy44MzcyLTIuMjU1Ni0xMC43MjctMy40ODIyLTEyLjc5LTguMjE5NS0yMS44NzUtMTQuNDI5LTI5Ljk0LTUuNTc4Mi02Ljg0MTUtNC4yMTUyLTkuNzIwNyA1LjMzOTMtMTEuMDY5eiIgc3R5bGU9ImZpbGw6bm9uZTsiLz48cGF0aCBkPSJtMTEyLjI3IDczLjgyNmMtMTguNTg1LTcuNTIxNy0zNC45ODctMTQuNzk3LTQ4LjkzOSA1LjAxOC00Ljk3NTIgNy4wODMtMy43ODc2IDguODA1Ni00LjkyMTcgMC4wNzQ5LTEuNjM3LTEyLjQ3Ni00Ljc1MDUtMzQuMTc0IDEuOTI1OS00NS4xOTQgNy42ODIyLTEyLjcgMTkuMzIzLTEzLjEyOCAzMS4wMzktNS4zODE4IDEwLjc5NiA3Ljc3ODQgMjQuMjc3IDE0LjY0NyAzOC4wMTUgMTIuMjE5IDEyLjczMi0yLjI1NzYgMTUuODM1LTcuNzQ2NCAxNS43MDctMTkuOTEyLTAuMDIxNS0yLjYtMC4wOTYzLTUuMjEwNi0wLjIwMzMtNy43OTk5IDEzLjYzMSAzLjkyNjcgMjQuNjA5IDE0Ljc3NiAyNi41MTMgMjkuMDQ5IDAuODg4MDQgNi42MzM2IDAuMjY3NDkgMTIuNzIyLTEuOTI1OSAxOS4wMTMtNS45NzAyIDE3LjEwOC0zMC4xMTkgMjAuODk2LTQ1Ljc0IDE2Ljg0MS0zLjk1ODgtMS4wMzc4LTcuNjgyMi0yLjQxODEtMTEuNDctMy45MjY3eiIgc3R5bGU9ImZpbGw6I2ZkZmYwMDsiLz48cGF0aCBkPSJtMTQ1LjM5IDEwNC43LTExLjUyIDExLjJoMTcuMjZtLTY1LjUyLTExLjIgMTEuNTIgMTEuMmgtMTcuMjYiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDo1LjQ5OThweDtzdHJva2U6IzAwMDsiLz48cGF0aCBkPSJtMTI3Ljg0IDE0Ni43M2MtMi4yNCA4LjkzLTYuOTIgMTUuMDgtMTIuMzQgMTUuMDhzLTEwLjEtNi4xNS0xMi4zNC0xNS4wOHoiIHN0eWxlPSJmaWxsOiNmZmY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDoyLjk5OTlweDtzdHJva2U6IzAwMDsiLz48L3N2Zz4="
    var data2 ="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiMwMEQ4NzI7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojRkZENzlEOyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWwxNS43MSAxNS43NWgyMXoiIHN0eWxlPSJmaWxsOiMyMTIxMjE7Ii8+PHBhdGggZD0ibTg5LjI5MSAxOTVhMTE0Ljc5IDExNC43OSAwIDAgMC0zOC4wMDIgMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAwIDM4LjAwMiAxNi40ODJ6bTUyLjQzNCAwdjMyLjk4MmExMTUuNTMgMTE1LjUzIDAgMCAwIDM4LTE2LjQ4MiAxMTQuNzkgMTE0Ljc5IDAgMCAwLTM4LTE2LjV6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im0xNTcuMTUgMTk5Ljc1YzAuMjU0OCA3LjQ1MDEgMS41NCAxNC44NTUgNC45NTEyIDIxLjQzMmExMTUuNTMgMTE1LjUzIDAgMCAwIDE3LjYxOS05LjY3OTcgMTE0Ljc5IDExNC43OSAwIDAgMC0yMi41Ny0xMS43NTJ6bS04My4yOTUgMmUtM2ExMTQuNzkgMTE0Ljc5IDAgMCAwLTIyLjU3IDExLjc1IDExNS41MyAxMTUuNTMgMCAwIDAgMTcuNjIxIDkuNjc5N2MzLjQxMS02LjU3NjUgNC42OTQ0LTEzLjk4IDQuOTQ5Mi0yMS40M3oiIHN0eWxlPSJmaWxsOiMyMTIxMjE7Ii8+PHBhdGggZD0ibTk5LjE5NyAyMDQuOTd2MmUtM2wxNi4zMDIgMTYuMzAxIDE2LjMwMS0xNi4zMDF2LTJlLTN6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im0zMC42MjIgNzAuMzgxYzIuMDk3MS0zLjkzNzQgNC42NjQ5LTcuOTYwNCA3LjY4MjItMTIuMDM3IDMuMDE3Mi00LjA3NjUgNi4wOTg3LTcuNjkyOSA5LjIyMjktMTAuODE3bDIyLjg5NyAyMi44OTdjLTQuNDQwMiA0LjQ0MDMtOC4yMjc4IDkuNTQzOS0xMS4yMTMgMTUuMTR6IiBzdHlsZT0iZmlsbDojMTRmZmZkOyIvPjxwYXRoIGQ9Im0xNjAuNTggNzAuNDIzIDIyLjkwNy0yMi44OTdjMy4xMjQyIDMuMTI0MiA2LjIwNTYgNi43NDA2IDkuMjIyOSAxMC44MTcgMy4wMDY1IDQuMDc2NSA1LjU3NDQgOC4wOTk0IDcuNjcxNSAxMi4wMzdsLTI4LjU3OCAxNS4xODJjLTIuOTg1MS01LjU5NTgtNi43NzI3LTEwLjY4OS0xMS4yMjQtMTUuMTR6IiBzdHlsZT0iZmlsbDojMTRmZmZkOyIvPjxwYXRoIGQ9Im05Mi40MTEgMTUuMjQ3YzMuODE5Ny0wLjg3NzM2IDcuNjcxNS0xLjU0MDcgMTEuNTM0LTEuOTc5NCA0LjA3NjUtMC40NjAwNyA3LjkyODItMC42OTU0NiAxMS41NTUtMC42OTU0NiAxLjUzIDAgMy4xNTYzIDAuMDQyOCA0Ljg2ODIgMC4xMzkxbDEuODUxIDIyLjI1NSA1Ljc2Ny0yMS41N2MzLjEwMjggMC4zNzQ0OSA2LjA2NjYgMC44NjY2NiA4Ljg5MTIgMS40NjU4bC0xMC41NSA0OS43NjNjLTEuOTI1OS0wLjQxNzI5LTMuNzAyLTAuNzA2MTctNS4zMTc2LTAuODc3MzYtMS40MjMtMC4xNDk3OS0zLjI2MzMtMC4yMjQ2OC01LjUxMDItMC4yMjQ2OC0yLjIzNjIgMC00LjIzNyAwLjEwNjk5LTUuOTgxIDAuMjk5NTgtMS45NDczIDAuMjI0NjktMy44NzMyIDAuNTU2MzYtNS43NjcgMC45OTUwNHoiIHN0eWxlPSJmaWxsOiMxNGZmZmQ7Ii8+PHBhdGggZD0ibTkyLjQxMSAxNS4yNDdjMS45MTUyLTAuNDM4NjkgNC4wMjMtMC44NDUyNiA2LjMyMzMtMS4yMzA0IDIuMDY1LTAuMzQyMzggNC4xNTE0LTAuNjIwNTcgNi4yNjk4LTAuODQ1MjVsNS4xNzg1IDUwLjU2NWMtMS4wOTEzIDAuMTA2OTktMi4xODI3IDAuMjU2NzktMy4yOTU0IDAuNDM4NjgtMC44NjY2NSAwLjE0OTc5LTEuOTE1MiAwLjM2Mzc4LTMuMTM0OSAwLjY0MTk2eiIgc3R5bGU9ImZpbGw6IzBkM2E2MjsiLz48cGF0aCBkPSJtMTcwLjI1IDEwMGMxLjY5IDkuNjItNC43OSAyOS4yMy0yMi40IDI5LjIzLTYuODEgMC0xNS0zLjY2LTIwLjIzLTEwLTQuMzQtNS4zMy03LjU2LTEyLjg3LTYuMi0xOS40NSAxLjYzLTcuODkgNy4wNy0xMS40NSAxNC42Ny0xMi45MmE2OC4xNiA2OC4xNiAwIDAgMSAxMi41Mi0xYzEwLjc3IDAgMTkuNzggMy42MSAyMS42NCAxNC4yMnoiIHN0eWxlPSJmaWxsOiMwMGI1YjQ7c3Ryb2tlLXdpZHRoOjMuOTlweDtzdHJva2U6IzAwMDsiLz48cGF0aCBkPSJtNjAuNzUgMTAwYy0xLjY5IDkuNjIgNC43OSAyOS4yMyAyMi40IDI5LjIzIDYuODEgMCAxNS0zLjY2IDIwLjIzLTEwIDQuMzQtNS4zMyA3LjU2LTEyLjg3IDYuMi0xOS40NS0xLjYzLTcuODktNy4wNy0xMS40NS0xNC42Ny0xMi45MmE2OC4xNiA2OC4xNiAwIDAgMC0xMi41Mi0xYy0xMC43NyAwLTE5Ljc4IDMuNjEtMjEuNjQgMTQuMjJ6IiBzdHlsZT0iZmlsbDojMDBiNWI0O3N0cm9rZS13aWR0aDozLjk5cHg7c3Ryb2tlOiMwMDA7Ii8+PGxpbmUgeDE9IjEwMC4yIiB4Mj0iMTMwLjgiIHkxPSI4Ny45MiIgeTI9Ijg3LjkyIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6My45OXB4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xMDkuODcgMTAxLjczYzAtMi41OSAyLjUyLTQuNjkgNS42My00LjY5czUuNjMgMi4xIDUuNjMgNC42OSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6My45OXB4O3N0cm9rZTojMDAwOyIvPjxwYXRoIGQ9Im0xMTUuNjggMTYwLjY0YzcuMDggMCAxMy4xMS00LjkzIDE1LjQ2LTExLjg0YTIuMTQgMi4xNCAwIDAgMC0xLjUxLTIuNjEwMSAyLjMgMi4zIDAgMCAwLTAuNzM5OTUtMC4wNTkzaC0yNi40MmEyLjEyIDIuMTIgMCAwIDAtMi4zMSAxLjkwOTkgMS44NSAxLjg1IDAgMCAwIDAuMDU5MyAwLjczOTk1YzIuMzQwMSA2LjkzMDEgOC4zODAyIDExLjg2IDE1LjQ2IDExLjg2eiIgc3R5bGU9ImZpbGw6I2ZmMDAwMDsiLz48L3N2Zz4="
    var data3 ="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiMwZGY7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojZjVhYTc3OyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNSAxMTUuNzcgMTE1Ljc3IDAgMCAxIDE1LjcxLTIuNTN2LTE0LjA5YTYzLjggNjMuOCAwIDAgMCAyMSAwdjE0LjA5YTExNi42IDExNi42IDAgMCAxIDE1Ljc1IDIuNTN6IiBzdHlsZT0iZmlsbDojMDAwOyIvPjxwYXRoIGQ9Im02MC45ODQgMjA1LjY2IDYuMjY3NSAyLjIwNTEgMy40MDc0LTYuODE5IDIuODAxOC0xLjEzNTMtMy45OTExIDcuOTkwNyAyNy4yMjItMy4wODU3IDMuMjU0MS0xMS43MzkgMi4xNDUxLTAuMjY5Mi0zLjI4MzMgMTEuODE5IDIwLjM5My0xLjYwMTEtMTQuMTkxLTE1Ljk0NXYtMi40Mzc5bDE3LjYwNi01LjcyNzQgMy4zODU1LTAuNDczdjEuNDdsLTE5LjE2NyA2LjIyOTUgMTQuNzMxIDE2LjU0MiAxOS44MzktNy43NDMyIDMuMzYzNiAwLjgyMjMtMjEuMzcxIDguMzQgMjAuNTMyIDEzLjg0MiAyLjY3NzctMjEuNjg3IDEuOTQ4MSAwLjU2MDQtMi43NzI2IDIyLjM3OCAwLjA1ODQgMC4wMzY0IDguNTA3NSA0Ljk5MjMtMi40ODA3IDAuODUxNDUtNi40NzE4LTMuNzkxNi0xLjI5ODcgNi4wNjIyLTIuMTUyNCAwLjUzMTI1IDEuMzQyNS02LjI4MDQtMTcuMDM3IDguODM0OC01LjAyNzEgMC4zNTY2MSAyMS41OS0xMS4xOTMtMjAuOTYyLTE0LjEzMy03LjUwMDYgMjUuNDU3LTIuMDcyMS0wLjAzNjQgNy42MzkyLTI1LjkxNS0yMS4wNSAxLjY1MiA5LjAxMDkgMjQuMDUyLTEuNDE1NS0wLjA5NDYtMC40OTYxNS0wLjA0MzctMC4wNzMtN2UtMyAtMC4yMDQzLTAuMDE0NS04LjM2ODgtMjIuMzQyLTEwLjEyNyAxOS4yNDItMS45ODQ2LTAuNTIzOTkgMTAuNTE0LTE5Ljk2Mi0yNi4wNCAyLjk1NDcgMTMuNDI1IDE2LjQxOC0zLjQ0MzgtMS4wNjI1LTEyLjA4My0xNC43ODEtOC4xNjQ1IDUuOTY3NS0xLjkwNDMtMS4wNzcgOC4xMjgtNS45Mzg1LTYuOTg5OC0yLjQ1OTggMi4zMzQ4LTEuMjg4MXptOTIuNTA5LTcuMjU1NiAxNC4yMjggMjAuMDkzLTEuODA5NSAwLjg5NTE0LTE1LjYxNC0yMi4wNDN6IiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Im0zMi45MDIgNjcuNjYyYy0wLjM2Mjk1IDEuNzIyNy02LjIzNDIgMzAuNjk1IDUuNjEzMyA1Mi41OTYgNC41ODQzIDguNDc0MyA5LjAwODEgMTMuMjM5IDEyLjc1IDE1Ljg5M2E2Ny43IDY3LjcgMCAwIDEtMy40Njg4LTIxLjM1IDY3LjcgNjcuNyAwIDAgMSAyLjMzMi0xNy42NThjLTQuNDkxNC0yLjQ2NDYtMTAuODY4LTYuOTAxMi0xMy44MzQtMTMuNTItNC4xNjI2LTkuMjg1LTMuNjE1NS0xNC42NzMtMy4zOTI2LTE1Ljk2MXptMTY1LjE5IDBjMC4yMjI5MiAxLjI4ODIgMC43NzAwNSA2LjY3NTktMy4zOTI2IDE1Ljk2MS0yLjk2NjQgNi42MTgzLTkuMzQyNiAxMS4wNTUtMTMuODM0IDEzLjUyYTY3LjcgNjcuNyAwIDAgMSAyLjMzMiAxNy42NTggNjcuNyA2Ny43IDAgMCAxLTMuNDY4OCAyMS4zNWMzLjc0MTktMi42NTMyIDguMTY1Ny03LjQxODMgMTIuNzUtMTUuODkzIDExLjg0Ny0yMS45IDUuOTc2Mi01MC44NzMgNS42MTMzLTUyLjU5NnoiIHN0eWxlPSJmaWxsOiNhY2ZmZmQ7Ii8+PHBhdGggZD0ibTExNS43MyAxMy4xOTFjLTcuMzc4Ny0wLjEzMzUxLTEzLjUwOSA1Ljc4ODgtMTMuNjMxIDEzLjE2OC0wLjEwMTI4IDUuODgyNyAzLjQ1MDggMTAuNTE4IDguMDU2NiAxMi41MiAxLjA2MSAwLjQ2MTE1IDIuMTg2OSAwLjc4MDA5IDMuMzQxOCAwLjk1NzAzdjguNDI5MWMwLjY2Nzc4LTAuMDIwMzUgMS4zMzU4LTAuMDMwNzcgMi4wMDM5LTAuMDMxMjUgMC42NjU0Ny05ZS01IDEuMzMwOSAwLjAwOTcgMS45OTYxIDAuMDI5M3YtOC40MTE1YzIuNjAwMi0wLjM4NDA2IDUuMTU4Ni0xLjU0ODQgNy4zMDg2LTMuNjI1IDQuMjMyMi00LjA4NzggNC45OTkxLTkuODc1NSAzLjE1ODItMTQuNTQ5LTEuODQwNy00LjY3MjYtNi4zNTAyLTguMzgzNC0xMi4yMzItOC40ODYzeiIgc3R5bGU9ImZpbGw6I2FjZmZmZDsiLz48cGF0aCBkPSJtMTcyLjcgOTAuNzVoLTYuNTRjLTAuMTQtMC4xLTAuMjYtMC4yMi0wLjQtMC4zLTQuNDgtMi43Ni0yMi43NS0yLjExLTMzLjcxIDEuMi0xIDAuMy0xLjkxIDAuNjEtMi43NSAwLjk0LTEuODkzNyAwLjc5MjQ0LTMuODczOSAxLjM1OTctNS45IDEuNjktNS41MDUxIDAuNzkwMDItMTAuNDAzIDAuNzkwMDItMTUuOTA4IDAtMi4wMjYxLTAuMzMwMzQtNC4wMDYzLTAuODk3NTYtNS45LTEuNjktMC44NC0wLjMzLTEuNzYtMC42NC0yLjc1LTAuOTQtMTEtMy4zMS0yOS4yMy00LTMzLjcxLTEuMi0wLjEzODMyIDAuMDg4NjktMC4yNjg4IDAuMTg5MDYtMC4zOSAwLjNoLTYuNTVjLTEuMTA0NiAwLTIgMC44OTU0My0yIDJ2NC42NmMtMC4wMDEzIDAuOTgxODUgMC40OTA4OCAxLjg5ODYgMS4zMSAyLjQ0bDEuOSAxLjI3YzAuNTkyMzggMC4zODg4OSAwLjkzNDc1IDEuMDYyMiAwLjkgMS43Ny0wLjE0MTc1IDUuNDg1NCAwLjg4MDcyIDEwLjkzOSAzIDE2IDMuNTggOC4zOCAxNiAxMC45IDI0LjkzIDEwLjkgMi42OTc2IDAuMDc3MSA1LjM5MjEtMC4yMzYxIDgtMC45MyA0LjM1LTEuNDMgOC4yNC03LjM2IDEwLjQ1LTEyLjQyIDEuNzYwNy0zLjg1MDYgMi43NDkzLTguMDA5IDIuOTEtMTIuMjQgNy4zZS00IC0wLjcxMzggMC4zODE4My0xLjM3MzEgMS0xLjczIDMuMjI4MS0xLjk1MSA2LjU3OTgtMS45NTEgOS44MDc5IDAgMC42MTgxNyAwLjM1NjkgMC45OTkyNyAxLjAxNjIgMSAxLjczIDAuMTYwNjcgNC4yMzEgMS4xNDkzIDguMzg5NCAyLjkxIDEyLjI0IDIuMjEgNS4wNiA2LjEgMTEgMTAuNDUgMTIuNDIgMi42MDc5IDAuNjkzOSA1LjMwMjQgMS4wMDcxIDggMC45MyA4LjkyIDAgMjEuMzUtMi41MiAyNC45My0xMC45IDIuMTE5My01LjA2MTQgMy4xNDE4LTEwLjUxNSAzLTE2LTAuMDM0OC0wLjcwNzc4IDAuMzA3NjItMS4zODExIDAuOS0xLjc3bDEuOS0xLjI3YzAuODE5MTMtMC41NDEzNiAxLjMxMTMtMS40NTgyIDEuMzEtMi40NHYtNC42YzAuMDMzNi0xLjEwNDgtMC44MzUyMS0yLjAyNzQtMS45NC0yLjA2eiIgc3R5bGU9ImZpbGw6IzAwMDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjIuNTtzdHJva2U6IzAwZmZkYzsiLz48cGF0aCBkPSJtMTIzLjA3IDE1NC4wNWExMC42MSAxMC42MSAwIDAgMS0xNSAwLjE0bC0wLjE0LTAuMTQiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDo2LjNweDtzdHJva2U6IzAwMDsiLz48cGF0aCBkPSJtMTIwLjEgMTQyLjIyIDAuMTktMC4xMWMzLTEuODcgNS40NS0yLjQgNy4zLTEuNDYgMi4xNSAxLjEgMy4xMiAzLjg0IDQuODQgNS41YTUuMTggNS4xOCAwIDAgMCA2LjY4IDAuNzNtLTI4LjIxLTQuNjYtMC4xOS0wLjExYy0zLTEuODctNS40NS0yLjQtNy4zLTEuNDYtMi4xNSAxLjEtMy4xMiAzLjg0LTQuODQgNS41YTUuMTggNS4xOCAwIDAgMS02LjY4IDAuNzMiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS13aWR0aDo1Ljk5OThweDtzdHJva2U6IzRkNGQ0ZDsiLz48L3N2Zz4="
    var data4 ="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMzEgMjMxIj48cGF0aCBkPSJNMzMuODMsMzMuODNhMTE1LjUsMTE1LjUsMCwxLDEsMCwxNjMuMzQsMTE1LjQ5LDExNS40OSwwLDAsMSwwLTE2My4zNFoiIHN0eWxlPSJmaWxsOiNiMzAwM2U7Ii8+PHBhdGggZD0ibTExNS41IDUxLjc1YTYzLjc1IDYzLjc1IDAgMCAwLTEwLjUgMTI2LjYzdjE0LjA5YTExNS41IDExNS41IDAgMCAwLTUzLjcyOSAxOS4wMjcgMTE1LjUgMTE1LjUgMCAwIDAgMTI4LjQ2IDAgMTE1LjUgMTE1LjUgMCAwIDAtNTMuNzI5LTE5LjAyOXYtMTQuMDg0YTYzLjc1IDYzLjc1IDAgMCAwIDUzLjI1LTYyLjg4MSA2My43NSA2My43NSAwIDAgMC02My42NS02My43NSA2My43NSA2My43NSAwIDAgMC0wLjA5OTYxIDB6IiBzdHlsZT0iZmlsbDojOGM1MTAwOyIvPjxwYXRoIGQ9Im0xNDEuNzUgMTk1YTExNC43OSAxMTQuNzkgMCAwIDEgMzggMTYuNSAxMTUuNTMgMTE1LjUzIDAgMCAxLTEyOC40NiAwIDExNC43OSAxMTQuNzkgMCAwIDEgMzgtMTYuNWMwIDEwLjc2IDExLjc1IDE5LjQ4IDI2LjI1IDE5LjQ4czI2LjI1LTguNzIgMjYuMjUtMTkuNDh6IiBzdHlsZT0iZmlsbDojMDAwOyIvPjxwYXRoIGQ9Im0xNjkuNjUgOTAuOTk4YzMuMTM3IDExLjk0IDQuOTM3MSAzNi40ODQtMy40MTE4IDU4LjIxM2w1LjEyOSAzLjExNjRjMTAuMDQ0LTE1LjE5OSAxNC45NTktMzkuMTYzIDEzLjk0My02MS4zM3oiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTQ1LjA4MSA5MC45ODljLTAuODgwODUgNC45MzA0LTAuODc1MzQgMTQuOTUzLTAuMTUwMjcgMjEuNzUgMi4xMzE4IDE5Ljk4IDE2LjY3MSA0Mi41MDUgMTYuNjcxIDQyLjUwNWw1LjczNTItNC40MzMxcy0xMy4yNDQtMzEuMzQ4LTYuMDU3MS01Mi43NTFjMC41MjEwOC0xLjU1MTcgMC45NTU5Mi0yLjkxNiAxLjM0NjItNC4xODM1eiIgc3R5bGU9ImZpbGw6IzAwMDsiLz48cGF0aCBkPSJtMTE3IDMuNDg4M2MtOC4yMTM2LTAuMTk4ODctMTkuMTMgNy45MzMtMTguNDk0IDkuMzUxNiAxLjYyMTQgMy42MTg2IDExLjE3NiAyMi41NSAxMS44ODkgMjMuOTYzaDEwLjE0OGMyLjYwMjItNi4zMTAyIDExLjMyLTI2LjUzMSAxMS4zMi0yNi41MzFzLTQuMTM4Mi00LjEzOC0xMi40MTYtNi40Mzc1Yy0wLjc3NjA1LTAuMjE1NTYtMS41OTc2LTAuMzI1MTMtMi40NDczLTAuMzQ1N3oiIHN0eWxlPSJmaWxsOm5vbmU7Ii8+PHBhdGggZD0ibTExNS45NSA0LjU0MjhjLTMuMTU2MyAwLTYuMzEyMyAwLjU3NDYyLTkuMjE2NSAxLjcxNS01LjgwODQgMi4yODE3LTEwLjUzMiA2LjgwOC0xMi43NzkgMTIuMjQ1di01ZS0zYy0xLjgxNjYgNC4zOTctMi4wMjMzIDkuMzQ0MS0wLjU4MDU4IDEzLjg1NyAwLjY5MzUyIDIuMTY4NyAxLjc2OTMgNC4yMjk2IDMuMTUzMyA2LjA5NjhoMzguODkzYzAuNzEwMzItMC45NTc2OSAxLjM0NDEtMS45NjQxIDEuODc4Ny0zLjAxNDQgMi42ODExLTUuMjY3MyAyLjkyOTYtMTEuNTQyIDAuNjcyNTMtMTYuOTc1LTIuMjU3LTUuNDMzNy02Ljk4OTMtOS45NTIyLTEyLjgwMi0xMi4yMjQtMi45MDY0LTEuMTMzNS02LjA2MzMtMS42OTg3LTkuMjE5Ni0xLjY5NTZ6IiBzdHlsZT0iZmlsbDojMDAwOyIvPjxwYXRoIGQ9Im05Mi41MTIgMjguMTI1YzAuMTMzODcgMS40MzE4IDAuNDE4NzcgMi44NTExIDAuODU5NjIgNC4yMzA2IDEuNDQyOSA0LjUxMjcgNC41Mjc4IDguNTY1NCA4LjY0MTEgMTEuMzUzIDQuMTEzNSAyLjc4NzMgOS4yMzExIDQuMjkxMyAxNC4zMzYgNC4yMTY1IDUuMTA1Mi0wLjA3NjQgMTAuMTY4LTEuNzMzMyAxNC4xODEtNC42NDE5IDIuODc1NC0yLjA4MzQgNS4yMTMyLTQuNzkzMiA2Ljc2NjUtNy44NDQ3IDEuMjAwNS0yLjM1ODYgMS45MDg1LTQuOTE4OCAyLjEyNy03LjUxNTYtMTUuMDM3LTIuNjQwNy0zMS40MjEtMy40NjcxLTQ2LjkxMiAwLjIwMjUzeiIgc3R5bGU9ImZpbGw6I2ZmNGU0ZTsiLz48cGF0aCBkPSJtMzQuNDI2IDkwLjYzYzE0LjcxNCA0LjA3NzkgMjIuNjgzIDYuNDA4NSA0NS4yNTQgNy40MjU3IDIuNTMxOC0xOC4xODUgNC42Njg5LTI4LjY3MiAxMC4wMjMtMzguMzUyIDMuMjAyNSAxMy40MDMgMy44MzQ2IDI1LjIyIDIuOTEwNiA0Mi4yNTNsMTEuMTcyLTAuMjMxNjFjMS40NzA2LTExLjg4NiAzLjg5ODktMjkuMjEzIDIuMTYzNi00Mi4wMjEgMTAuNDE2IDEyLjYzMSAxMS4zNzMgMjMuNjI0IDEzLjA3NyAzOS43MjYgMzAuMTc0LTAuNzYwMDQgNTkuODA4LTQuNTEyMSA3Ny44NDUtMTAuMTI4LTEwLjc2LTM4LjYwOC00MS40NzUtNTUuNjYtODAuMzgtNTYuMTA0LTM4LjE4Mi0wLjQ1MTM0LTc0LjU0MyAyMi40MDUtODIuMDY1IDU3LjQzMnoiIHN0eWxlPSJmaWxsOiMwMDA7Ii8+PHBhdGggZD0ibTgzLjczOSA4My45Mmg2My41MzNhMTkuMTAxIDE5LjEgMCAwIDEgMTkuMDUxIDE5IDE5LjExMSAxOS4xMSAwIDAgMS0xOS4wNTEgMTloLTYzLjUzM2ExOS4wOTEgMTkuMDkgMCAwIDEtMTkuMDAxLTE5IDE5LjA5MSAxOS4wOSAwIDAgMSAxOS4wMDEtMTl6IiBzdHlsZT0iZmlsbDojRkYyRDAwOyIvPjxwYXRoIGQ9Im0xNDAuMjMgOTMuNTRhOS4zODA0IDkuMzggMCAxIDAgOS4zODA0IDkuMzggOS4zODA0IDkuMzggMCAwIDAtOS4zODA0LTkuMzh6bS00OS40MDIgMGE5LjM4MDQgOS4zOCAwIDEgMCA5LjM4MDQgOS4zOCA5LjM5MDQgOS4zOSAwIDAgMC05LjM4MDQtOS4zOHoiIHN0eWxlPSJmaWxsOiNmZmY7Ii8+PHJlY3QgeD0iNzkuNzk1IiB5PSI5OC42MjciIHdpZHRoPSI3MS40NzEiIGhlaWdodD0iOC41ODU5IiByeT0iNC4yOTI5IiBzdHlsZT0iZmlsbDpub25lOyIvPjxwYXRoIGQ9Im0xMjYuMjggMTQ5LjgyYy02LjE2IDIuNDMtMTUuNTIgMi40Mi0yMS41NiAwIiBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NS45OTk4cHg7c3Ryb2tlOiMwMDA7Ii8+PC9zdmc+"
    setAvatars([data,data2,data3,data4]);
    setIsLoading(false);
  }, []);
  return (
    <>
      {isLoading ? (
        <Container>
          <img src={loader} alt="loader" className="loader" />
        </Container>
      ) : (
        <Container>
          <div className="title-container">
            <h1>Pick an Avatar as your profile picture</h1>
          </div>
          <div className="avatars">
            {avatars.map((avatar, index) => {
              return (
                <div
                  className={`avatar ${
                    selectedAvatar === index ? "selected" : ""
                  }`}
                  key={index}
                >
                  <img
                    src={`data:image/svg+xml;base64,${avatar}`}
                    alt="avatar"
                    key={avatar}
                    onClick={() => setSelectedAvatar(index)}
                                      />
                </div>
              );
            })}
          </div>
          <button onClick={setProfilePicture} className="submit-btn">
            Set as Profile Picture
          </button>
          <ToastContainer />
        </Container>
      )}
    </>
  );
}

const Container = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 3rem;
  background-color: #131324;
  height: 100vh;
  width: 100vw;

  .loader {
    max-inline-size: 100%;
  }

  .title-container {
    h1 {
      color: white;
    }
  }
  .avatars {
    display: flex;
    gap: 2rem;

    .avatar {
      border: 0.4rem solid transparent;
      padding: 0.4rem;
      border-radius: 5rem;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: 0.5s ease-in-out;
      img {
        height: 6rem;
        transition: 0.5s ease-in-out;
      }
    }
    .selected {
      border: 0.4rem solid #4e0eff;
    }
  }
  .submit-btn {
    background-color: #4e0eff;
    color: white;
    padding: 1rem 2rem;
    border: none;
    font-weight: bold;
    cursor: pointer;
    border-radius: 0.4rem;
    font-size: 1rem;
    text-transform: uppercase;
    &:hover {
      background-color: #4e0eff;
    }
  }
`;
